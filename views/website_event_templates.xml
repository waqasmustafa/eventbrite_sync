<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Simple website templates for NYC events -->
  <!-- These templates will be applied when events have external_url field -->
  
  <!-- Custom event detail page for NYC events -->
  <template id="nyc_event_detail" name="NYC Event Detail">
    <t t-call="web.layout">
      <t t-set="title" t-value="event.name"/>
      <div class="container mt-4">
        <div class="row">
          <div class="col-12">
            <h1 t-esc="event.name"/>
            <div class="row mt-4">
              <div class="col-12 col-md-6">
                <img t-att-src="website.image_url(event, 'image_1920')" 
                     alt="Event" class="img-fluid rounded mb-3"/>
              </div>
              <div class="col-12 col-md-6">
                <div class="mb-3">
                  <strong>Date &amp; Time:</strong><br/>
                  <t t-if="event.date_begin">
                    <span t-esc="format_datetime(event.date_begin, tz=website.get_current_website().timezone, dt_format='EEE, d MMM yyyy • HH:mm')"/>
                  </t>
                  <t t-if="event.date_end">
                    <span> – </span>
                    <span t-esc="format_datetime(event.date_end, tz=website.get_current_website().timezone, dt_format='HH:mm')"/>
                  </t>
                </div>
                <div class="mb-3">
                  <strong>Location:</strong><br/>
                  <t t-if="event.address_id">
                    <span t-esc="event.address_id.name"/>
                    <t t-if="event.address_id.city">, <span t-esc="event.address_id.city"/></t>
                  </t>
                  <t t-else="">Online / TBA</t>
                </div>
                <t t-if="event.external_url">
                  <a t-att-href="event.external_url" class="btn btn-primary btn-lg" target="_blank" rel="noopener">
                    Buy Tickets on Ticketmaster
                  </a>
                </t>
              </div>
            </div>
          </div>
        </div>
      </div>
    </t>
  </template>

  <!-- Custom event listing page for NYC events -->
  <template id="nyc_events_list" name="NYC Events List">
    <t t-call="web.layout">
      <t t-set="title">Events</t>
      <div class="container mt-4">
        <div class="row">
          <div class="col-12">
            <h1>Events</h1>
            <div class="row">
              <t t-foreach="events" t-as="event">
                <div class="col-12 col-md-6 col-lg-4 mb-4">
                  <div class="card h-100 shadow-sm">
                    <img t-att-src="website.image_url(event, 'image_1920')" 
                         class="card-img-top" alt="Event"/>
                    <div class="card-body">
                      <h5 class="card-title" t-esc="event.name"/>
                      <div class="mb-2">
                        <strong>Date &amp; Time:</strong><br/>
                        <t t-if="event.date_begin">
                          <span t-esc="format_datetime(event.date_begin, tz=website.get_current_website().timezone, dt_format='EEE, d MMM • HH:mm')"/>
                        </t>
                      </div>
                      <div class="mb-3">
                        <strong>Location:</strong><br/>
                        <t t-if="event.address_id">
                          <span t-esc="event.address_id.name"/>
                          <t t-if="event.address_id.city">, <span t-esc="event.address_id.city"/></t>
                        </t>
                        <t t-else="">Online / TBA</t>
                      </div>
                      <t t-if="event.external_url">
                        <a t-att-href="event.external_url" class="btn btn-primary" target="_blank" rel="noopener">
                          Buy Tickets
                        </a>
                      </t>
                    </div>
                  </div>
                </div>
              </t>
            </div>
          </div>
        </div>
      </div>
    </t>
  </template>

</odoo>


